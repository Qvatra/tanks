{"version":3,"sources":["../../src/index.js"],"names":["battleField","addTank","x","y","removeAllDeadTanks","console","log","updateRadars","allTanks","getTanks","forEach","enemyTanks","filter","t","getName","tank","enemyCoords","map","coords","setRadar","rotateAll","rotate","shootAll","shoot","moveAll","movement","move","i","moreThanOneTank","removeTank","document","getElementById","innerHTML","first"],"mappings":";;AAAA;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,cAAc,2BAApB;AACAA,YAAYC,OAAZ,CAAoB,mBAAS,GAAT,CAApB,EAAmC,EAACC,GAAE,CAAH,EAAMC,GAAE,CAAR,EAAnC;AACAH,YAAYC,OAAZ,CAAoB,mBAAS,GAAT,CAApB,EAAmC,EAACC,GAAE,EAAH,EAAOC,GAAE,EAAT,EAAnC;;AAEA,IAAMC,qBAAqB,SAArBA,kBAAqB,GAAM;AAChCC,SAAQC,GAAR,CAAY,0BAAZ;AAEA,CAHD;;AAKA,IAAMC,eAAe,SAAfA,YAAe,GAAM;AAC1B,KAAMC,WAAWR,YAAYS,QAAZ,EAAjB;;AAEA,kBAAEC,OAAF,CAAUF,QAAV,EAAoB,gBAAQ;AAC3B,MAAMG,aAAa,iBAAEC,MAAF,CAASJ,QAAT,EAAmB;AAAA,UAAKK,EAAEC,OAAF,OAAgBC,KAAKD,OAAL,EAArB;AAAA,GAAnB,CAAnB;AACA,MAAME,cAAc,iBAAEC,GAAF,CAAMN,UAAN,EAAkB;AAAA,UAAKE,EAAEK,MAAP;AAAA,GAAlB,CAApB;AACAH,OAAKI,QAAL,CAAcH,WAAd;AACA,EAJD;AAKA,CARD;;AAUA,IAAMI,YAAY,SAAZA,SAAY,GAAM;AACvB,kBAAEV,OAAF,CAAUV,YAAYS,QAAZ,EAAV,EAAkC,gBAAQ;AACzCM,OAAKM,MAAL;AACA,EAFD;AAGA,CAJD;;AAMA,IAAMC,WAAW,SAAXA,QAAW,GAAM;AACtB,kBAAEZ,OAAF,CAAUV,YAAYS,QAAZ,EAAV,EAAkC,gBAAQ;AACzCM,OAAKQ,KAAL;AACA,EAFD;AAGAnB;AACA,CALD;;AAOA,IAAMoB,UAAU,SAAVA,OAAU,GAAM;AACrB,kBAAEd,OAAF,CAAUV,YAAYS,QAAZ,EAAV,EAAkC,gBAAQ;AACzC,MAAMgB,WAAWV,KAAKW,IAAL,EAAjB;AACAX,OAAKG,MAAL,CAAYhB,CAAZ,IAAiBuB,SAASvB,CAA1B;AACAa,OAAKG,MAAL,CAAYf,CAAZ,IAAiBsB,SAAStB,CAA1B;AACA,EAJD;AAKA,CAND;;AAQA,IAAIwB,IAAI,CAAR;AACA,OAAO3B,YAAY4B,eAAZ,EAAP,EAAsC;AACrCrB;AACAa;AACAE;AACAE;;AAEA,KAAIG,QAAQ,CAAZ,EAAe;AACd3B,cAAY6B,UAAZ,CAAuB7B,YAAYS,QAAZ,GAAuB,CAAvB,CAAvB;AACA;AACD;;AAEDqB,SAASC,cAAT,CAAwB,MAAxB,EAAgCC,SAAhC,aAAoD,iBAAEC,KAAF,CAAQjC,YAAYS,QAAZ,EAAR,EAAgCK,OAAhC,EAApD","file":"index.js","sourcesContent":["import './index.scss'\nimport BattleField from './BattleField';\nimport Tank from './Tank';\nimport _ from 'lodash';\n\nconst battleField = new BattleField();\nbattleField.addTank(new Tank('A'), {x:0, y:0});\nbattleField.addTank(new Tank('B'), {x:50, y:50});\n\nconst removeAllDeadTanks = () => {\n\tconsole.log('cleaning the battlefield');\n\t\n};\n\nconst updateRadars = () => {\n\tconst allTanks = battleField.getTanks();\n\t\n\t_.forEach(allTanks, tank => {\n\t\tconst enemyTanks = _.filter(allTanks, t => t.getName() !== tank.getName());\n\t\tconst enemyCoords = _.map(enemyTanks, t => t.coords);\n\t\ttank.setRadar(enemyCoords);\n\t});\n};\n\nconst rotateAll = () => {\n\t_.forEach(battleField.getTanks(), tank => {\n\t\ttank.rotate();\n\t});\n};\n\nconst shootAll = () => {\n\t_.forEach(battleField.getTanks(), tank => {\n\t\ttank.shoot();\n\t});\n\tremoveAllDeadTanks();\n};\n\nconst moveAll = () => {\n\t_.forEach(battleField.getTanks(), tank => {\n\t\tconst movement = tank.move();\n\t\ttank.coords.x += movement.x;\n\t\ttank.coords.y += movement.y;\n\t});\n};\n\nlet i = 0;\nwhile (battleField.moreThanOneTank()) {\n\tupdateRadars();\n\trotateAll();\n\tshootAll();\n\tmoveAll();\n\t\n\tif (i++ === 3) {\n\t\tbattleField.removeTank(battleField.getTanks()[1]);\n\t}\n}\n\ndocument.getElementById('test').innerHTML = `Tank ${_.first(battleField.getTanks()).getName()} won the game!`;\n"]}